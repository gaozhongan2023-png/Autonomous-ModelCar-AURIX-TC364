# Autonomous-ModelCar-AURIX-TC364

This project is an embedded control system based on the **Infineon AURIX™ TC364 MCU**, developed and built in **AURIX Development Studio (ADS)**.  
The system enables a fully autonomous model car capable of high-speed closed-loop operation without any external computing device.

---

## Overview
During actual operation, the **TC364 MCU** runs fully offline, performing all control tasks in real time.  
At each frame, the onboard **MT9V034 camera** captures grayscale image data, which is processed through a custom image-processing pipeline:

1. **Image Binarization:** Otsu’s thresholding method is applied to segment the track.  
2. **Road Edge Detection:** Custom line-scanning algorithms detect the left and right lane boundaries.  
3. **Centerline Fitting:** The midpoint path is fitted from the detected edges.  
4. **Deviation Calculation:** The lateral offset between the vehicle and the ideal track centerline is computed.  
5. **Control Output:** A PID controller converts this deviation into corresponding PWM signals to drive the steering and throttle motors.

This enables the model car to maintain stable high-speed autonomous driving on the track, with a top speed up to **3.3 m/s**.

---

## Project Structure

| Directory / File | Description |
|------------------|-------------|
| **CODE/** | User-written application logic: control algorithms, image processing, and PID routines |
| **Libraries/** | Hardware abstraction and peripheral drivers (GPIO, PWM, ADC, CAN, UART, etc.) |
| **USER/** | Multi-core startup code (CPU0, CPU1) and interrupt service routines (ISR) |
| **.settings/** | IDE configuration folder generated by AURIX Development Studio |
| **.project / .cproject** | Project descriptor files used by the IDE for build configuration |
| **Lcf_Tasking_Tricore_Tc.lsl** | Linker script defining memory layout and section mapping |
| **LICENSE** | License file |
| **README.md** | Project documentation (this file) |

---

## CODE Directory Details

| File | Description |
|------|-------------|
| **ESP8266.c / ESP8266.h** | Handles serial communication with the PC via the ESP8266 Wi-Fi module for real-time image transmission. |
| **HCl.c / HCl.h** | Implements human–machine interface (HMI) functions on the LCD display. |
| **IPS.c / IPS.h** | LCD driver and display control routines. |
| **Key.c / Key.h** | Button input and on-device control logic for parameter adjustment. |
| **Motor.c / Motor.h** | Motor control routines using PID algorithms for steering and throttle output. |
| **parm.c / parm.h** | Parameter definition, tuning, and configuration management for the PID controller. |
| **PreDeal.c / PreDeal.h** | Image pre-processing, noise filtering, and normalization before binary segmentation. |
| **Track.c / Track.h** | Core image-processing and path-planning logic; includes binary image processing, lane detection, and trajectory fitting (approx. 10,000 lines of code). |

---

## Development Environment
- **IDE:** AURIX Development Studio  
- **Toolchain:** TASKING Tricore v6.x or later  
- **Target MCU:** AURIX™ TC364  
- **Language:** C  

---

## How to Build and Run
1. Open **AURIX Development Studio**  
2. Go to **Import → Existing Projects into Workspace**  
3. Select this project directory and import it  
4. Connect the **Infineon MiniWiggler** or equivalent debugger  
5. Build and flash the program to the target board  

---

## Achievements
This project won the **National Second Prize** in the **17th National Undergraduate Intelligent Vehicle Competition (全国大学生智能汽车竞赛)**, China.  

---

## Acknowledgments
Special thanks to **Yue Yang (杨越)** and **Hongyu Shi (史弘宇)** for their collaboration, contribution, and dedication throughout the project.
