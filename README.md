# Autonomous-ModelCar-AURIX-TC364

A high-speed autonomous model car project based on the Infineon AURIX TC364 microcontroller.  
The system performs real-time lane detection, path fitting, and closed-loop PID control using onboard image processing, achieving stable tracking at speeds up to **3.3 m/s**.

---

## Project Overview

This project was developed for a vision-based autonomous car competition.  
The model car (approximately 25 cm in length) drives on a track resembling real road lanes.  
It detects both left and right lane boundaries using a custom image processing algorithm and performs high-speed closed-loop control completely offline on the MCU.

The same algorithm can also be simulated on a PC using OpenCV for debugging and visualization.

---

## Demonstration

**1. Real Vehicle Running on Track**

<p align="center">
  <img src="Docs/real_car.gif" width="600">
</p>

**2. PC Simulation Visualization**

<p align="center">
  <img src="Docs/pc_simulation.gif" width="600">
</p>


---

## Repository Structure

| Directory / File | Description |
|-----------------|-------------|
| **Docs/** | Supporting materials |
| `Docs/real_car.gif` | Real car driving demonstration |
| `Docs/pc_simulation.gif` | OpenCV simulation demonstration |
| **MCU/** | Embedded control code for Infineon AURIX TC364 |
| `MCU/CODE/` | User-written application logic: control algorithms, image processing, PID routines |
| `MCU/Libraries/` | Hardware abstraction and peripheral drivers (GPIO, PWM, ADC, CAN, UART, etc.) |
| `MCU/USER/` | Multi-core startup code (CPU0, CPU1) and interrupt service routines (ISR) |
| `MCU/settings/` | IDE configuration folder generated by AURIX Development Studio |
| `MCU/README.md` | Detailed MCU documentation |
| **PC_OpenCV/** | OpenCV-based simulation and visualization |
| `PC_OpenCV/imageDeal/` | PC-side algorithm implementation |
| `PC_OpenCV/imageDeal/main.cpp` | Entry point. Starts image sequence simulation and processing |
| `PC_OpenCV/imageDeal/imageDeal.cpp` | Core image processing module integrating preprocessing and lane detection |
| `PC_OpenCV/imageDeal/imagePreDeal.cpp` | Preprocessing functions (noise filtering, ROI selection, thresholding). Slightly different from MCU but equivalent results |
| `PC_OpenCV/imageDeal/Track.cpp` | Portable tracking algorithm, identical to MCU code for lane fitting |
| `PC_OpenCV/imageDeal/ui.cpp` | Visualization interface for debugging and intermediate variables |
| `PC_OpenCV/image/` | Input image sequence for testing (e.g., 0.bmp, 1.bmp, ...) |
| `PC_OpenCV/opencv_world454.rar` | OpenCV 4.5.4 runtime library (compressed) |
| `PC_OpenCV/x64/Debug/` | Debug build files (if any) |
| `PC_OpenCV/OpenCVProjectTemplate.sln` | Visual Studio solution |
| `PC_OpenCV/OpenCVProjectTemplate.vcxproj` | Visual Studio project file |
| `PC_OpenCV/OpenCVProjectTemplate.vcxproj.filters` | Visual Studio filters file |
| `PC_OpenCV/OpenCVProjectTemplate.vcxproj.user` | Visual Studio user settings file |
| `PC_OpenCV/README.md` | PC simulation documentation |
| **PCB/** | PCB design files for the model car |
| `PCB/<project_files>` | Altium Designer PCB project files (schematics, board layout, etc.) |
| **README.md** | Main project overview |
| **LICENSE** | MIT License file |
| **.gitignore** | Git ignore configuration |


---

## Technologies Used

| Component | Technology / Tool |
|------------|-------------------|
| MCU | Infineon AURIX TC364 |
| Image Sensor | MT9V034 Global Shutter Camera |
| Communication | ESP8266 WiFi |
| Image Processing | Otsu Binarization, Dual Lane Edge Detection, Line Fitting |
| Control | PID Closed-loop Steering |
| PC Framework | OpenCV (C++/Python) |
| IDE | AURIX Development Studio |

---

## Performance

- Model car length: ~25 cm  
- Maximum stable speed: **3.3 m/s**  
- Lane detection latency: < 20 ms per frame  
- Control loop frequency: 100 Hz  

---

## License

This project is released under the **MIT License**.

---

## Author

**Zhongan Gao (高钟安)**

---

## Achievements
This project won the **National Second Prize** in the **17th National Undergraduate Intelligent Vehicle Competition (全国大学生智能汽车竞赛)**, China.  

---

## Acknowledgments
Special thanks to **Yue Yang (杨越)** and **Hongyu Shi (史弘宇)** for their collaboration, contribution, and dedication throughout the project.

